(function(v,re){typeof exports=="object"&&typeof module<"u"?re(exports):typeof define=="function"&&define.amd?define(["exports"],re):(v=typeof globalThis<"u"?globalThis:v||self,re(v.NeutralToken={}))})(this,function(v){"use strict";const Te={version:"0.1.9"};let ue=Te.version;if(typeof document<"u"){const n=document.currentScript?.src||"";n.startsWith("http://localhost")||n.startsWith("https://localhost")||n.startsWith("/")||window.location.hostname==="localhost"||window.location.protocol;const i=n.match(/@neutraltoken\/core@(.*?)(\/|$)/);i&&i[1]?ue=i[1]:n.includes("@latest")&&(ue="latest")}let fe=!1;(typeof process<"u"&&process.env&&process.env.NEUTRALTOKEN_DEV||typeof window<"u"&&window.NEUTRALTOKEN_DEV)&&(fe=!0);const M=fe?"./dist":`https://cdn.jsdelivr.net/npm/@neutraltoken/core@${ue}/dist`;function lt(n,i){return new Promise((s,u)=>{if(!document.getElementById("neutraltoken-css")){const a=document.createElement("link");a.id="neutraltoken-css",a.rel="stylesheet",a.href=`${M}/neutraltoken.css`,M==="./dist"&&(a.onerror=function(){this.onerror=null,this.href="https://cdn.jsdelivr.net/npm/@neutraltoken/core@latest/dist/neutraltoken.css"}),document.head.appendChild(a)}const l=document.createElement("div");l.className="pb-overlay";const d=document.createElement("img");d.src=`${M}/logo.png`,d.alt="NeutralToken logo",M==="./dist"&&(d.onerror=function(){this.onerror=null,this.src="https://cdn.jsdelivr.net/npm/@neutraltoken/core@latest/dist/logo.png"}),l.innerHTML=`
      <div class="pb-modal">
      </div>
    `,l.querySelector(".pb-modal").appendChild(d),l.querySelector(".pb-modal").innerHTML+=`
        <h2>Verify with NeutralToken</h2>
        <p>This site is requesting to verify your eligibility.</p>

        <button id="pb-accept" class="pb-button-primary">Continue</button>
        <button id="pb-cancel" class="pb-button-secondary">Cancel</button>

        <small>Issued by: <strong>sandbox.neutraltoken.org</strong></small>
    `,document.body.appendChild(l),l.querySelector("#pb-accept")?.addEventListener("click",async()=>{try{const a=await i();p(),s(a)}catch(a){p(),u(a)}}),l.querySelector("#pb-cancel")?.addEventListener("click",()=>{p(),u(new Error("User cancelled"))});function p(){l.remove()}})}const he=crypto,Re=n=>n instanceof CryptoKey,ne=new TextEncoder,ie=new TextDecoder;function pt(...n){const i=n.reduce((l,{length:d})=>l+d,0),s=new Uint8Array(i);let u=0;for(const l of n)s.set(l,u),u+=l.length;return s}const dt=n=>{const i=atob(n),s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s},q=n=>{let i=n;i instanceof Uint8Array&&(i=ie.decode(i)),i=i.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return dt(i)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class U extends Error{constructor(i,s){super(i,s),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}U.code="ERR_JOSE_GENERIC";class D extends U{constructor(i,s,u="unspecified",l="unspecified"){super(i,{cause:{claim:u,reason:l,payload:s}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=u,this.reason=l,this.payload=s}}D.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class le extends U{constructor(i,s,u="unspecified",l="unspecified"){super(i,{cause:{claim:u,reason:l,payload:s}}),this.code="ERR_JWT_EXPIRED",this.claim=u,this.reason=l,this.payload=s}}le.code="ERR_JWT_EXPIRED";class Fe extends U{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}Fe.code="ERR_JOSE_ALG_NOT_ALLOWED";class O extends U{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}O.code="ERR_JOSE_NOT_SUPPORTED";class yt extends U{constructor(i="decryption operation failed",s){super(i,s),this.code="ERR_JWE_DECRYPTION_FAILED"}}yt.code="ERR_JWE_DECRYPTION_FAILED";class mt extends U{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}mt.code="ERR_JWE_INVALID";class F extends U{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}F.code="ERR_JWS_INVALID";class pe extends U{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}pe.code="ERR_JWT_INVALID";class wt extends U{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}wt.code="ERR_JWK_INVALID";class de extends U{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}de.code="ERR_JWKS_INVALID";class ye extends U{constructor(i="no applicable key found in the JSON Web Key Set",s){super(i,s),this.code="ERR_JWKS_NO_MATCHING_KEY"}}ye.code="ERR_JWKS_NO_MATCHING_KEY";class Ce extends U{constructor(i="multiple matching keys found in the JSON Web Key Set",s){super(i,s),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Ce.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class Ue extends U{constructor(i="request timed out",s){super(i,s),this.code="ERR_JWKS_TIMEOUT"}}Ue.code="ERR_JWKS_TIMEOUT";class We extends U{constructor(i="signature verification failed",s){super(i,s),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}We.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function k(n,i="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${i} must be ${n}`)}function j(n,i){return n.name===i}function me(n){return parseInt(n.name.slice(4),10)}function Et(n){switch(n){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function gt(n,i){if(i.length&&!i.some(s=>n.usages.includes(s))){let s="CryptoKey does not support this operation, its usages must include ";if(i.length>2){const u=i.pop();s+=`one of ${i.join(", ")}, or ${u}.`}else i.length===2?s+=`one of ${i[0]} or ${i[1]}.`:s+=`${i[0]}.`;throw new TypeError(s)}}function St(n,i,...s){switch(i){case"HS256":case"HS384":case"HS512":{if(!j(n.algorithm,"HMAC"))throw k("HMAC");const u=parseInt(i.slice(2),10);if(me(n.algorithm.hash)!==u)throw k(`SHA-${u}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!j(n.algorithm,"RSASSA-PKCS1-v1_5"))throw k("RSASSA-PKCS1-v1_5");const u=parseInt(i.slice(2),10);if(me(n.algorithm.hash)!==u)throw k(`SHA-${u}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!j(n.algorithm,"RSA-PSS"))throw k("RSA-PSS");const u=parseInt(i.slice(2),10);if(me(n.algorithm.hash)!==u)throw k(`SHA-${u}`,"algorithm.hash");break}case"EdDSA":{if(n.algorithm.name!=="Ed25519"&&n.algorithm.name!=="Ed448")throw k("Ed25519 or Ed448");break}case"Ed25519":{if(!j(n.algorithm,"Ed25519"))throw k("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!j(n.algorithm,"ECDSA"))throw k("ECDSA");const u=Et(i);if(n.algorithm.namedCurve!==u)throw k(u,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}gt(n,s)}function Ke(n,i,...s){if(s=s.filter(Boolean),s.length>2){const u=s.pop();n+=`one of type ${s.join(", ")}, or ${u}.`}else s.length===2?n+=`one of type ${s[0]} or ${s[1]}.`:n+=`of type ${s[0]}.`;return i==null?n+=` Received ${i}`:typeof i=="function"&&i.name?n+=` Received function ${i.name}`:typeof i=="object"&&i!=null&&i.constructor?.name&&(n+=` Received an instance of ${i.constructor.name}`),n}const Pe=(n,...i)=>Ke("Key must be ",n,...i);function Ne(n,i,...s){return Ke(`Key for the ${n} algorithm must be `,i,...s)}const Je=n=>Re(n)?!0:n?.[Symbol.toStringTag]==="KeyObject",oe=["CryptoKey"],xt=(...n)=>{const i=n.filter(Boolean);if(i.length===0||i.length===1)return!0;let s;for(const u of i){const l=Object.keys(u);if(!s||s.size===0){s=new Set(l);continue}for(const d of l){if(s.has(d))return!1;s.add(d)}}return!0};function bt(n){return typeof n=="object"&&n!==null}function $(n){if(!bt(n)||Object.prototype.toString.call(n)!=="[object Object]")return!1;if(Object.getPrototypeOf(n)===null)return!0;let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}const At=(n,i)=>{if(n.startsWith("RS")||n.startsWith("PS")){const{modulusLength:s}=i.algorithm;if(typeof s!="number"||s<2048)throw new TypeError(`${n} requires key modulusLength to be 2048 bits or larger`)}};function G(n){return $(n)&&typeof n.kty=="string"}function It(n){return n.kty!=="oct"&&typeof n.d=="string"}function Bt(n){return n.kty!=="oct"&&typeof n.d>"u"}function _t(n){return G(n)&&n.kty==="oct"&&typeof n.k=="string"}function Tt(n){let i,s;switch(n.kty){case"RSA":{switch(n.alg){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${n.alg.slice(-3)}`},s=n.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.alg.slice(-3)}`},s=n.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(n.alg.slice(-3),10)||1}`},s=n.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new O('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(n.alg){case"ES256":i={name:"ECDSA",namedCurve:"P-256"},s=n.d?["sign"]:["verify"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},s=n.d?["sign"]:["verify"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},s=n.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":i={name:"ECDH",namedCurve:n.crv},s=n.d?["deriveBits"]:[];break;default:throw new O('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(n.alg){case"Ed25519":i={name:"Ed25519"},s=n.d?["sign"]:["verify"];break;case"EdDSA":i={name:n.crv},s=n.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":i={name:n.crv},s=n.d?["deriveBits"]:[];break;default:throw new O('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new O('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:i,keyUsages:s}}const De=async n=>{if(!n.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:i,keyUsages:s}=Tt(n),u=[i,n.ext??!1,n.key_ops??s],l={...n};return delete l.alg,delete l.use,he.subtle.importKey("jwk",l,...u)},Oe=n=>q(n);let Y,z;const ke=n=>n?.[Symbol.toStringTag]==="KeyObject",se=async(n,i,s,u,l=!1)=>{let d=n.get(i);if(d?.[u])return d[u];const p=await De({...s,alg:u});return l&&Object.freeze(i),d?d[u]=p:n.set(i,{[u]:p}),p},Rt={normalizePublicKey:(n,i)=>{if(ke(n)){let s=n.export({format:"jwk"});return delete s.d,delete s.dp,delete s.dq,delete s.p,delete s.q,delete s.qi,s.k?Oe(s.k):(z||(z=new WeakMap),se(z,n,s,i))}return G(n)?n.k?q(n.k):(z||(z=new WeakMap),se(z,n,n,i,!0)):n},normalizePrivateKey:(n,i)=>{if(ke(n)){let s=n.export({format:"jwk"});return s.k?Oe(s.k):(Y||(Y=new WeakMap),se(Y,n,s,i))}return G(n)?n.k?q(n.k):(Y||(Y=new WeakMap),se(Y,n,n,i,!0)):n}};async function Le(n,i){if(!$(n))throw new TypeError("JWK must be an object");switch(i||(i=n.alg),n.kty){case"oct":if(typeof n.k!="string"||!n.k)throw new TypeError('missing "k" (Key Value) Parameter value');return q(n.k);case"RSA":if("oth"in n&&n.oth!==void 0)throw new O('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return De({...n,alg:i});default:throw new O('Unsupported "kty" (Key Type) Parameter value')}}const X=n=>n?.[Symbol.toStringTag],we=(n,i,s)=>{if(i.use!==void 0&&i.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(i.key_ops!==void 0&&i.key_ops.includes?.(s)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${s}`);if(i.alg!==void 0&&i.alg!==n)throw new TypeError(`Invalid key for this operation, when present its alg must be ${n}`);return!0},Ft=(n,i,s,u)=>{if(!(i instanceof Uint8Array)){if(u&&G(i)){if(_t(i)&&we(n,i,s))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Je(i))throw new TypeError(Ne(n,i,...oe,"Uint8Array",u?"JSON Web Key":null));if(i.type!=="secret")throw new TypeError(`${X(i)} instances for symmetric algorithms must be of type "secret"`)}},Ct=(n,i,s,u)=>{if(u&&G(i))switch(s){case"sign":if(It(i)&&we(n,i,s))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(Bt(i)&&we(n,i,s))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!Je(i))throw new TypeError(Ne(n,i,...oe,u?"JSON Web Key":null));if(i.type==="secret")throw new TypeError(`${X(i)} instances for asymmetric algorithms must not be of type "secret"`);if(s==="sign"&&i.type==="public")throw new TypeError(`${X(i)} instances for asymmetric algorithm signing must be of type "private"`);if(s==="decrypt"&&i.type==="public")throw new TypeError(`${X(i)} instances for asymmetric algorithm decryption must be of type "private"`);if(i.algorithm&&s==="verify"&&i.type==="private")throw new TypeError(`${X(i)} instances for asymmetric algorithm verifying must be of type "public"`);if(i.algorithm&&s==="encrypt"&&i.type==="private")throw new TypeError(`${X(i)} instances for asymmetric algorithm encryption must be of type "public"`)};function ve(n,i,s,u){i.startsWith("HS")||i==="dir"||i.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(i)?Ft(i,s,u,n):Ct(i,s,u,n)}ve.bind(void 0,!1);const Me=ve.bind(void 0,!0);function Ut(n,i,s,u,l){if(l.crit!==void 0&&u?.crit===void 0)throw new n('"crit" (Critical) Header Parameter MUST be integrity protected');if(!u||u.crit===void 0)return new Set;if(!Array.isArray(u.crit)||u.crit.length===0||u.crit.some(p=>typeof p!="string"||p.length===0))throw new n('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let d;s!==void 0?d=new Map([...Object.entries(s),...i.entries()]):d=i;for(const p of u.crit){if(!d.has(p))throw new O(`Extension Header Parameter "${p}" is not recognized`);if(l[p]===void 0)throw new n(`Extension Header Parameter "${p}" is missing`);if(d.get(p)&&u[p]===void 0)throw new n(`Extension Header Parameter "${p}" MUST be integrity protected`)}return new Set(u.crit)}const Wt=(n,i)=>{if(i!==void 0&&(!Array.isArray(i)||i.some(s=>typeof s!="string")))throw new TypeError(`"${n}" option must be an array of strings`);if(i)return new Set(i)};function Kt(n,i){const s=`SHA-${n.slice(-3)}`;switch(n){case"HS256":case"HS384":case"HS512":return{hash:s,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:s,name:"RSA-PSS",saltLength:n.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:s,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:s,name:"ECDSA",namedCurve:i.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:i.name};default:throw new O(`alg ${n} is not supported either by JOSE or your javascript runtime`)}}async function Pt(n,i,s){if(i=await Rt.normalizePublicKey(i,n),Re(i))return St(i,n,s),i;if(i instanceof Uint8Array){if(!n.startsWith("HS"))throw new TypeError(Pe(i,...oe));return he.subtle.importKey("raw",i,{hash:`SHA-${n.slice(-3)}`,name:"HMAC"},!1,[s])}throw new TypeError(Pe(i,...oe,"Uint8Array","JSON Web Key"))}const Nt=async(n,i,s,u)=>{const l=await Pt(n,i,"verify");At(n,l);const d=Kt(n,l.algorithm);try{return await he.subtle.verify(d,l,s,u)}catch{return!1}};async function Jt(n,i,s){if(!$(n))throw new F("Flattened JWS must be an object");if(n.protected===void 0&&n.header===void 0)throw new F('Flattened JWS must have either of the "protected" or "header" members');if(n.protected!==void 0&&typeof n.protected!="string")throw new F("JWS Protected Header incorrect type");if(n.payload===void 0)throw new F("JWS Payload missing");if(typeof n.signature!="string")throw new F("JWS Signature missing or incorrect type");if(n.header!==void 0&&!$(n.header))throw new F("JWS Unprotected Header incorrect type");let u={};if(n.protected)try{const x=q(n.protected);u=JSON.parse(ie.decode(x))}catch{throw new F("JWS Protected Header is invalid")}if(!xt(u,n.header))throw new F("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const l={...u,...n.header},d=Ut(F,new Map([["b64",!0]]),s?.crit,u,l);let p=!0;if(d.has("b64")&&(p=u.b64,typeof p!="boolean"))throw new F('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:a}=l;if(typeof a!="string"||!a)throw new F('JWS "alg" (Algorithm) Header Parameter missing or invalid');const b=s&&Wt("algorithms",s.algorithms);if(b&&!b.has(a))throw new Fe('"alg" (Algorithm) Header Parameter value not allowed');if(p){if(typeof n.payload!="string")throw new F("JWS Payload must be a string")}else if(typeof n.payload!="string"&&!(n.payload instanceof Uint8Array))throw new F("JWS Payload must be a string or an Uint8Array instance");let E=!1;typeof i=="function"?(i=await i(u,n),E=!0,Me(a,i,"verify"),G(i)&&(i=await Le(i,a))):Me(a,i,"verify");const m=pt(ne.encode(n.protected??""),ne.encode("."),typeof n.payload=="string"?ne.encode(n.payload):n.payload);let S;try{S=q(n.signature)}catch{throw new F("Failed to base64url decode the signature")}if(!await Nt(a,i,S,m))throw new We;let y;if(p)try{y=q(n.payload)}catch{throw new F("Failed to base64url decode the payload")}else typeof n.payload=="string"?y=ne.encode(n.payload):y=n.payload;const w={payload:y};return n.protected!==void 0&&(w.protectedHeader=u),n.header!==void 0&&(w.unprotectedHeader=n.header),E?{...w,key:i}:w}async function Dt(n,i,s){if(n instanceof Uint8Array&&(n=ie.decode(n)),typeof n!="string")throw new F("Compact JWS must be a string or Uint8Array");const{0:u,1:l,2:d,length:p}=n.split(".");if(p!==3)throw new F("Invalid Compact JWS");const a=await Jt({payload:l,protected:u,signature:d},i,s),b={payload:a.payload,protectedHeader:a.protectedHeader};return typeof i=="function"?{...b,key:a.key}:b}const Ot=n=>Math.floor(n.getTime()/1e3),$e=60,He=$e*60,Ee=He*24,kt=Ee*7,Lt=Ee*365.25,vt=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,qe=n=>{const i=vt.exec(n);if(!i||i[4]&&i[1])throw new TypeError("Invalid time period format");const s=parseFloat(i[2]),u=i[3].toLowerCase();let l;switch(u){case"sec":case"secs":case"second":case"seconds":case"s":l=Math.round(s);break;case"minute":case"minutes":case"min":case"mins":case"m":l=Math.round(s*$e);break;case"hour":case"hours":case"hr":case"hrs":case"h":l=Math.round(s*He);break;case"day":case"days":case"d":l=Math.round(s*Ee);break;case"week":case"weeks":case"w":l=Math.round(s*kt);break;default:l=Math.round(s*Lt);break}return i[1]==="-"||i[4]==="ago"?-l:l},Ve=n=>n.toLowerCase().replace(/^application\//,""),Mt=(n,i)=>typeof n=="string"?i.includes(n):Array.isArray(n)?i.some(Set.prototype.has.bind(new Set(n))):!1,$t=(n,i,s={})=>{let u;try{u=JSON.parse(ie.decode(i))}catch{}if(!$(u))throw new pe("JWT Claims Set must be a top-level JSON object");const{typ:l}=s;if(l&&(typeof n.typ!="string"||Ve(n.typ)!==Ve(l)))throw new D('unexpected "typ" JWT header value',u,"typ","check_failed");const{requiredClaims:d=[],issuer:p,subject:a,audience:b,maxTokenAge:E}=s,m=[...d];E!==void 0&&m.push("iat"),b!==void 0&&m.push("aud"),a!==void 0&&m.push("sub"),p!==void 0&&m.push("iss");for(const w of new Set(m.reverse()))if(!(w in u))throw new D(`missing required "${w}" claim`,u,w,"missing");if(p&&!(Array.isArray(p)?p:[p]).includes(u.iss))throw new D('unexpected "iss" claim value',u,"iss","check_failed");if(a&&u.sub!==a)throw new D('unexpected "sub" claim value',u,"sub","check_failed");if(b&&!Mt(u.aud,typeof b=="string"?[b]:b))throw new D('unexpected "aud" claim value',u,"aud","check_failed");let S;switch(typeof s.clockTolerance){case"string":S=qe(s.clockTolerance);break;case"number":S=s.clockTolerance;break;case"undefined":S=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:J}=s,y=Ot(J||new Date);if((u.iat!==void 0||E)&&typeof u.iat!="number")throw new D('"iat" claim must be a number',u,"iat","invalid");if(u.nbf!==void 0){if(typeof u.nbf!="number")throw new D('"nbf" claim must be a number',u,"nbf","invalid");if(u.nbf>y+S)throw new D('"nbf" claim timestamp check failed',u,"nbf","check_failed")}if(u.exp!==void 0){if(typeof u.exp!="number")throw new D('"exp" claim must be a number',u,"exp","invalid");if(u.exp<=y-S)throw new le('"exp" claim timestamp check failed',u,"exp","check_failed")}if(E){const w=y-u.iat,x=typeof E=="number"?E:qe(E);if(w-S>x)throw new le('"iat" claim timestamp check failed (too far in the past)',u,"iat","check_failed");if(w<0-S)throw new D('"iat" claim timestamp check failed (it should be in the past)',u,"iat","check_failed")}return u};async function Ht(n,i,s){const u=await Dt(n,i,s);if(u.protectedHeader.crit?.includes("b64")&&u.protectedHeader.b64===!1)throw new pe("JWTs MUST NOT use unencoded payload");const d={payload:$t(u.protectedHeader,u.payload,s),protectedHeader:u.protectedHeader};return typeof i=="function"?{...d,key:u.key}:d}function qt(n){switch(typeof n=="string"&&n.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new O('Unsupported "alg" value for a JSON Web Key Set')}}function Vt(n){return n&&typeof n=="object"&&Array.isArray(n.keys)&&n.keys.every(Gt)}function Gt(n){return $(n)}function Ge(n){return typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}class Yt{constructor(i){if(this._cached=new WeakMap,!Vt(i))throw new de("JSON Web Key Set malformed");this._jwks=Ge(i)}async getKey(i,s){const{alg:u,kid:l}={...i,...s?.header},d=qt(u),p=this._jwks.keys.filter(E=>{let m=d===E.kty;if(m&&typeof l=="string"&&(m=l===E.kid),m&&typeof E.alg=="string"&&(m=u===E.alg),m&&typeof E.use=="string"&&(m=E.use==="sig"),m&&Array.isArray(E.key_ops)&&(m=E.key_ops.includes("verify")),m)switch(u){case"ES256":m=E.crv==="P-256";break;case"ES256K":m=E.crv==="secp256k1";break;case"ES384":m=E.crv==="P-384";break;case"ES512":m=E.crv==="P-521";break;case"Ed25519":m=E.crv==="Ed25519";break;case"EdDSA":m=E.crv==="Ed25519"||E.crv==="Ed448";break}return m}),{0:a,length:b}=p;if(b===0)throw new ye;if(b!==1){const E=new Ce,{_cached:m}=this;throw E[Symbol.asyncIterator]=async function*(){for(const S of p)try{yield await Ye(m,S,u)}catch{}},E}return Ye(this._cached,a,u)}}async function Ye(n,i,s){const u=n.get(i)||n.set(i,{}).get(i);if(u[s]===void 0){const l=await Le({...i,ext:!0},s);if(l instanceof Uint8Array||l.type!=="public")throw new de("JSON Web Key Set members must be public keys");u[s]=l}return u[s]}function ze(n){const i=new Yt(n),s=async(u,l)=>i.getKey(u,l);return Object.defineProperties(s,{jwks:{value:()=>Ge(i._jwks),enumerable:!0,configurable:!1,writable:!1}}),s}const zt=async(n,i,s)=>{let u,l,d=!1;typeof AbortController=="function"&&(u=new AbortController,l=setTimeout(()=>{d=!0,u.abort()},i));const p=await fetch(n.href,{signal:u?u.signal:void 0,redirect:"manual",headers:s.headers}).catch(a=>{throw d?new Ue:a});if(l!==void 0&&clearTimeout(l),p.status!==200)throw new U("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await p.json()}catch{throw new U("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function Xt(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let ge;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(ge="jose/v5.10.0");const Se=Symbol();function Zt(n,i){return!(typeof n!="object"||n===null||!("uat"in n)||typeof n.uat!="number"||Date.now()-n.uat>=i||!("jwks"in n)||!$(n.jwks)||!Array.isArray(n.jwks.keys)||!Array.prototype.every.call(n.jwks.keys,$))}class Qt{constructor(i,s){if(!(i instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(i.href),this._options={agent:s?.agent,headers:s?.headers},this._timeoutDuration=typeof s?.timeoutDuration=="number"?s?.timeoutDuration:5e3,this._cooldownDuration=typeof s?.cooldownDuration=="number"?s?.cooldownDuration:3e4,this._cacheMaxAge=typeof s?.cacheMaxAge=="number"?s?.cacheMaxAge:6e5,s?.[Se]!==void 0&&(this._cache=s?.[Se],Zt(s?.[Se],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=ze(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(i,s){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(i,s)}catch(u){if(u instanceof ye&&this.coolingDown()===!1)return await this.reload(),this._local(i,s);throw u}}async reload(){this._pendingFetch&&Xt()&&(this._pendingFetch=void 0);const i=new Headers(this._options.headers);ge&&!i.has("User-Agent")&&(i.set("User-Agent",ge),this._options.headers=Object.fromEntries(i.entries())),this._pendingFetch||(this._pendingFetch=zt(this._url,this._timeoutDuration,this._options).then(s=>{this._local=ze(s),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=s),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(s=>{throw this._pendingFetch=void 0,s})),await this._pendingFetch}}function jt(n,i){const s=new Qt(n,i),u=async(l,d)=>s.getKey(l,d);return Object.defineProperties(u,{coolingDown:{get:()=>s.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>s.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>s.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!s._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>s._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),u}async function xe(n,i={}){if(!n)throw new Error("No token provided");if(!i.issuer)throw new Error("issuer required");const s=new URL(i.issuer),u=new URL("/.well-known/jwks.json",s),l=jt(u),{payload:d}=await Ht(n,l,{issuer:i.issuer});if(d.exp&&d.exp*1e3<Date.now())throw new Error("Credential expired");return d}function er(){return new Promise((n,i)=>{const s=window.prompt("Enter JWT badge");if(s)return n(s.trim());i(new Error("No token provided"))})}var be={},ee={},Xe;function tr(){if(Xe)return ee;Xe=1,ee.byteLength=a,ee.toByteArray=E,ee.fromByteArray=J;for(var n=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=u.length;l<d;++l)n[l]=u[l],i[u.charCodeAt(l)]=l;i[45]=62,i[95]=63;function p(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");x===-1&&(x=w);var W=x===w?0:4-x%4;return[x,W]}function a(y){var w=p(y),x=w[0],W=w[1];return(x+W)*3/4-W}function b(y,w,x){return(w+x)*3/4-x}function E(y){var w,x=p(y),W=x[0],K=x[1],R=new s(b(y,W,K)),P=0,V=K>0?W-4:W,T;for(T=0;T<V;T+=4)w=i[y.charCodeAt(T)]<<18|i[y.charCodeAt(T+1)]<<12|i[y.charCodeAt(T+2)]<<6|i[y.charCodeAt(T+3)],R[P++]=w>>16&255,R[P++]=w>>8&255,R[P++]=w&255;return K===2&&(w=i[y.charCodeAt(T)]<<2|i[y.charCodeAt(T+1)]>>4,R[P++]=w&255),K===1&&(w=i[y.charCodeAt(T)]<<10|i[y.charCodeAt(T+1)]<<4|i[y.charCodeAt(T+2)]>>2,R[P++]=w>>8&255,R[P++]=w&255),R}function m(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]}function S(y,w,x){for(var W,K=[],R=w;R<x;R+=3)W=(y[R]<<16&16711680)+(y[R+1]<<8&65280)+(y[R+2]&255),K.push(m(W));return K.join("")}function J(y){for(var w,x=y.length,W=x%3,K=[],R=16383,P=0,V=x-W;P<V;P+=R)K.push(S(y,P,P+R>V?V:P+R));return W===1?(w=y[x-1],K.push(n[w>>2]+n[w<<4&63]+"==")):W===2&&(w=(y[x-2]<<8)+y[x-1],K.push(n[w>>10]+n[w>>4&63]+n[w<<2&63]+"=")),K.join("")}return ee}var ce={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ze;function rr(){return Ze||(Ze=1,ce.read=function(n,i,s,u,l){var d,p,a=l*8-u-1,b=(1<<a)-1,E=b>>1,m=-7,S=s?l-1:0,J=s?-1:1,y=n[i+S];for(S+=J,d=y&(1<<-m)-1,y>>=-m,m+=a;m>0;d=d*256+n[i+S],S+=J,m-=8);for(p=d&(1<<-m)-1,d>>=-m,m+=u;m>0;p=p*256+n[i+S],S+=J,m-=8);if(d===0)d=1-E;else{if(d===b)return p?NaN:(y?-1:1)*(1/0);p=p+Math.pow(2,u),d=d-E}return(y?-1:1)*p*Math.pow(2,d-u)},ce.write=function(n,i,s,u,l,d){var p,a,b,E=d*8-l-1,m=(1<<E)-1,S=m>>1,J=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=u?0:d-1,w=u?1:-1,x=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(a=isNaN(i)?1:0,p=m):(p=Math.floor(Math.log(i)/Math.LN2),i*(b=Math.pow(2,-p))<1&&(p--,b*=2),p+S>=1?i+=J/b:i+=J*Math.pow(2,1-S),i*b>=2&&(p++,b/=2),p+S>=m?(a=0,p=m):p+S>=1?(a=(i*b-1)*Math.pow(2,l),p=p+S):(a=i*Math.pow(2,S-1)*Math.pow(2,l),p=0));l>=8;n[s+y]=a&255,y+=w,a/=256,l-=8);for(p=p<<l|a,E+=l;E>0;n[s+y]=p&255,y+=w,p/=256,E-=8);n[s+y-w]|=x*128}),ce}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Qe;function nr(){return Qe||(Qe=1,function(n){const i=tr(),s=rr(),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=R,n.INSPECT_MAX_BYTES=50;const l=2147483647;n.kMaxLength=l,a.TYPED_ARRAY_SUPPORT=d(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function p(r){if(r>l)throw new RangeError('The value "'+r+'" is invalid for option "size"');const e=new Uint8Array(r);return Object.setPrototypeOf(e,a.prototype),e}function a(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(r)}return b(r,e,t)}a.poolSize=8192;function b(r,e,t){if(typeof r=="string")return J(r,e);if(ArrayBuffer.isView(r))return w(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(L(r,ArrayBuffer)||r&&L(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(L(r,SharedArrayBuffer)||r&&L(r.buffer,SharedArrayBuffer)))return x(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const o=r.valueOf&&r.valueOf();if(o!=null&&o!==r)return a.from(o,e,t);const c=W(r);if(c)return c;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return a.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}a.from=function(r,e,t){return b(r,e,t)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function E(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function m(r,e,t){return E(r),r<=0?p(r):e!==void 0?typeof t=="string"?p(r).fill(e,t):p(r).fill(e):p(r)}a.alloc=function(r,e,t){return m(r,e,t)};function S(r){return E(r),p(r<0?0:K(r)|0)}a.allocUnsafe=function(r){return S(r)},a.allocUnsafeSlow=function(r){return S(r)};function J(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=P(r,e)|0;let o=p(t);const c=o.write(r,e);return c!==t&&(o=o.slice(0,c)),o}function y(r){const e=r.length<0?0:K(r.length)|0,t=p(e);for(let o=0;o<e;o+=1)t[o]=r[o]&255;return t}function w(r){if(L(r,Uint8Array)){const e=new Uint8Array(r);return x(e.buffer,e.byteOffset,e.byteLength)}return y(r)}function x(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let o;return e===void 0&&t===void 0?o=new Uint8Array(r):t===void 0?o=new Uint8Array(r,e):o=new Uint8Array(r,e,t),Object.setPrototypeOf(o,a.prototype),o}function W(r){if(a.isBuffer(r)){const e=K(r.length)|0,t=p(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||_e(r.length)?p(0):y(r);if(r.type==="Buffer"&&Array.isArray(r.data))return y(r.data)}function K(r){if(r>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return r|0}function R(r){return+r!=r&&(r=0),a.alloc(+r)}a.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==a.prototype},a.compare=function(e,t){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),L(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let o=e.length,c=t.length;for(let f=0,h=Math.min(o,c);f<h;++f)if(e[f]!==t[f]){o=e[f],c=t[f];break}return o<c?-1:c<o?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return a.alloc(0);let o;if(t===void 0)for(t=0,o=0;o<e.length;++o)t+=e[o].length;const c=a.allocUnsafe(t);let f=0;for(o=0;o<e.length;++o){let h=e[o];if(L(h,Uint8Array))f+h.length>c.length?(a.isBuffer(h)||(h=a.from(h)),h.copy(c,f)):Uint8Array.prototype.set.call(c,h,f);else if(a.isBuffer(h))h.copy(c,f);else throw new TypeError('"list" argument must be an Array of Buffers');f+=h.length}return c};function P(r,e){if(a.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||L(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const t=r.length,o=arguments.length>2&&arguments[2]===!0;if(!o&&t===0)return 0;let c=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Be(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return ht(r).length;default:if(c)return o?-1:Be(r).length;e=(""+e).toLowerCase(),c=!0}}a.byteLength=P;function V(r,e,t){let o=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return yr(this,e,t);case"utf8":case"utf-8":return rt(this,e,t);case"ascii":return pr(this,e,t);case"latin1":case"binary":return dr(this,e,t);case"base64":return hr(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mr(this,e,t);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),o=!0}}a.prototype._isBuffer=!0;function T(r,e,t){const o=r[e];r[e]=r[t],r[t]=o}a.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)T(this,t,t+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)T(this,t,t+3),T(this,t+1,t+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)T(this,t,t+7),T(this,t+1,t+6),T(this,t+2,t+5),T(this,t+3,t+4);return this},a.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?rt(this,0,e):V.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:a.compare(this,e)===0},a.prototype.inspect=function(){let e="";const t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},u&&(a.prototype[u]=a.prototype.inspect),a.prototype.compare=function(e,t,o,c,f){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),o===void 0&&(o=e?e.length:0),c===void 0&&(c=0),f===void 0&&(f=this.length),t<0||o>e.length||c<0||f>this.length)throw new RangeError("out of range index");if(c>=f&&t>=o)return 0;if(c>=f)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,c>>>=0,f>>>=0,this===e)return 0;let h=f-c,g=o-t;const B=Math.min(h,g),I=this.slice(c,f),_=e.slice(t,o);for(let A=0;A<B;++A)if(I[A]!==_[A]){h=I[A],g=_[A];break}return h<g?-1:g<h?1:0};function et(r,e,t,o,c){if(r.length===0)return-1;if(typeof t=="string"?(o=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,_e(t)&&(t=c?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(c)return-1;t=r.length-1}else if(t<0)if(c)t=0;else return-1;if(typeof e=="string"&&(e=a.from(e,o)),a.isBuffer(e))return e.length===0?-1:tt(r,e,t,o,c);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):tt(r,[e],t,o,c);throw new TypeError("val must be string, number or Buffer")}function tt(r,e,t,o,c){let f=1,h=r.length,g=e.length;if(o!==void 0&&(o=String(o).toLowerCase(),o==="ucs2"||o==="ucs-2"||o==="utf16le"||o==="utf-16le")){if(r.length<2||e.length<2)return-1;f=2,h/=2,g/=2,t/=2}function B(_,A){return f===1?_[A]:_.readUInt16BE(A*f)}let I;if(c){let _=-1;for(I=t;I<h;I++)if(B(r,I)===B(e,_===-1?0:I-_)){if(_===-1&&(_=I),I-_+1===g)return _*f}else _!==-1&&(I-=I-_),_=-1}else for(t+g>h&&(t=h-g),I=t;I>=0;I--){let _=!0;for(let A=0;A<g;A++)if(B(r,I+A)!==B(e,A)){_=!1;break}if(_)return I}return-1}a.prototype.includes=function(e,t,o){return this.indexOf(e,t,o)!==-1},a.prototype.indexOf=function(e,t,o){return et(this,e,t,o,!0)},a.prototype.lastIndexOf=function(e,t,o){return et(this,e,t,o,!1)};function sr(r,e,t,o){t=Number(t)||0;const c=r.length-t;o?(o=Number(o),o>c&&(o=c)):o=c;const f=e.length;o>f/2&&(o=f/2);let h;for(h=0;h<o;++h){const g=parseInt(e.substr(h*2,2),16);if(_e(g))return h;r[t+h]=g}return h}function cr(r,e,t,o){return ae(Be(e,r.length-t),r,t,o)}function ar(r,e,t,o){return ae(Sr(e),r,t,o)}function ur(r,e,t,o){return ae(ht(e),r,t,o)}function fr(r,e,t,o){return ae(xr(e,r.length-t),r,t,o)}a.prototype.write=function(e,t,o,c){if(t===void 0)c="utf8",o=this.length,t=0;else if(o===void 0&&typeof t=="string")c=t,o=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(o)?(o=o>>>0,c===void 0&&(c="utf8")):(c=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const f=this.length-t;if((o===void 0||o>f)&&(o=f),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");let h=!1;for(;;)switch(c){case"hex":return sr(this,e,t,o);case"utf8":case"utf-8":return cr(this,e,t,o);case"ascii":case"latin1":case"binary":return ar(this,e,t,o);case"base64":return ur(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fr(this,e,t,o);default:if(h)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function hr(r,e,t){return e===0&&t===r.length?i.fromByteArray(r):i.fromByteArray(r.slice(e,t))}function rt(r,e,t){t=Math.min(r.length,t);const o=[];let c=e;for(;c<t;){const f=r[c];let h=null,g=f>239?4:f>223?3:f>191?2:1;if(c+g<=t){let B,I,_,A;switch(g){case 1:f<128&&(h=f);break;case 2:B=r[c+1],(B&192)===128&&(A=(f&31)<<6|B&63,A>127&&(h=A));break;case 3:B=r[c+1],I=r[c+2],(B&192)===128&&(I&192)===128&&(A=(f&15)<<12|(B&63)<<6|I&63,A>2047&&(A<55296||A>57343)&&(h=A));break;case 4:B=r[c+1],I=r[c+2],_=r[c+3],(B&192)===128&&(I&192)===128&&(_&192)===128&&(A=(f&15)<<18|(B&63)<<12|(I&63)<<6|_&63,A>65535&&A<1114112&&(h=A))}}h===null?(h=65533,g=1):h>65535&&(h-=65536,o.push(h>>>10&1023|55296),h=56320|h&1023),o.push(h),c+=g}return lr(o)}const nt=4096;function lr(r){const e=r.length;if(e<=nt)return String.fromCharCode.apply(String,r);let t="",o=0;for(;o<e;)t+=String.fromCharCode.apply(String,r.slice(o,o+=nt));return t}function pr(r,e,t){let o="";t=Math.min(r.length,t);for(let c=e;c<t;++c)o+=String.fromCharCode(r[c]&127);return o}function dr(r,e,t){let o="";t=Math.min(r.length,t);for(let c=e;c<t;++c)o+=String.fromCharCode(r[c]);return o}function yr(r,e,t){const o=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>o)&&(t=o);let c="";for(let f=e;f<t;++f)c+=br[r[f]];return c}function mr(r,e,t){const o=r.slice(e,t);let c="";for(let f=0;f<o.length-1;f+=2)c+=String.fromCharCode(o[f]+o[f+1]*256);return c}a.prototype.slice=function(e,t){const o=this.length;e=~~e,t=t===void 0?o:~~t,e<0?(e+=o,e<0&&(e=0)):e>o&&(e=o),t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),t<e&&(t=e);const c=this.subarray(e,t);return Object.setPrototypeOf(c,a.prototype),c};function C(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,o){e=e>>>0,t=t>>>0,o||C(e,t,this.length);let c=this[e],f=1,h=0;for(;++h<t&&(f*=256);)c+=this[e+h]*f;return c},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,o){e=e>>>0,t=t>>>0,o||C(e,t,this.length);let c=this[e+--t],f=1;for(;t>0&&(f*=256);)c+=this[e+--t]*f;return c},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e=e>>>0,t||C(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||C(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||C(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||C(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=H(function(e){e=e>>>0,Q(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&te(e,this.length-8);const c=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,f=this[++e]+this[++e]*2**8+this[++e]*2**16+o*2**24;return BigInt(c)+(BigInt(f)<<BigInt(32))}),a.prototype.readBigUInt64BE=H(function(e){e=e>>>0,Q(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&te(e,this.length-8);const c=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],f=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o;return(BigInt(c)<<BigInt(32))+BigInt(f)}),a.prototype.readIntLE=function(e,t,o){e=e>>>0,t=t>>>0,o||C(e,t,this.length);let c=this[e],f=1,h=0;for(;++h<t&&(f*=256);)c+=this[e+h]*f;return f*=128,c>=f&&(c-=Math.pow(2,8*t)),c},a.prototype.readIntBE=function(e,t,o){e=e>>>0,t=t>>>0,o||C(e,t,this.length);let c=t,f=1,h=this[e+--c];for(;c>0&&(f*=256);)h+=this[e+--c]*f;return f*=128,h>=f&&(h-=Math.pow(2,8*t)),h},a.prototype.readInt8=function(e,t){return e=e>>>0,t||C(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},a.prototype.readInt16LE=function(e,t){e=e>>>0,t||C(e,2,this.length);const o=this[e]|this[e+1]<<8;return o&32768?o|4294901760:o},a.prototype.readInt16BE=function(e,t){e=e>>>0,t||C(e,2,this.length);const o=this[e+1]|this[e]<<8;return o&32768?o|4294901760:o},a.prototype.readInt32LE=function(e,t){return e=e>>>0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e=e>>>0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=H(function(e){e=e>>>0,Q(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&te(e,this.length-8);const c=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(o<<24);return(BigInt(c)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),a.prototype.readBigInt64BE=H(function(e){e=e>>>0,Q(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&te(e,this.length-8);const c=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(c)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o)}),a.prototype.readFloatLE=function(e,t){return e=e>>>0,t||C(e,4,this.length),s.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e=e>>>0,t||C(e,4,this.length),s.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||C(e,8,this.length),s.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||C(e,8,this.length),s.read(this,e,!1,52,8)};function N(r,e,t,o,c,f){if(!a.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>c||e<f)throw new RangeError('"value" argument is out of bounds');if(t+o>r.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,o,c){if(e=+e,t=t>>>0,o=o>>>0,!c){const g=Math.pow(2,8*o)-1;N(this,e,t,o,g,0)}let f=1,h=0;for(this[t]=e&255;++h<o&&(f*=256);)this[t+h]=e/f&255;return t+o},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,o,c){if(e=+e,t=t>>>0,o=o>>>0,!c){const g=Math.pow(2,8*o)-1;N(this,e,t,o,g,0)}let f=o-1,h=1;for(this[t+f]=e&255;--f>=0&&(h*=256);)this[t+f]=e/h&255;return t+o},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,1,255,0),this[t]=e&255,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function it(r,e,t,o,c){ft(e,o,c,r,t,7);let f=Number(e&BigInt(4294967295));r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f;let h=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=h,h=h>>8,r[t++]=h,h=h>>8,r[t++]=h,h=h>>8,r[t++]=h,t}function ot(r,e,t,o,c){ft(e,o,c,r,t,7);let f=Number(e&BigInt(4294967295));r[t+7]=f,f=f>>8,r[t+6]=f,f=f>>8,r[t+5]=f,f=f>>8,r[t+4]=f;let h=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=h,h=h>>8,r[t+2]=h,h=h>>8,r[t+1]=h,h=h>>8,r[t]=h,t+8}a.prototype.writeBigUInt64LE=H(function(e,t=0){return it(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=H(function(e,t=0){return ot(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,o,c){if(e=+e,t=t>>>0,!c){const B=Math.pow(2,8*o-1);N(this,e,t,o,B-1,-B)}let f=0,h=1,g=0;for(this[t]=e&255;++f<o&&(h*=256);)e<0&&g===0&&this[t+f-1]!==0&&(g=1),this[t+f]=(e/h>>0)-g&255;return t+o},a.prototype.writeIntBE=function(e,t,o,c){if(e=+e,t=t>>>0,!c){const B=Math.pow(2,8*o-1);N(this,e,t,o,B-1,-B)}let f=o-1,h=1,g=0;for(this[t+f]=e&255;--f>=0&&(h*=256);)e<0&&g===0&&this[t+f+1]!==0&&(g=1),this[t+f]=(e/h>>0)-g&255;return t+o},a.prototype.writeInt8=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},a.prototype.writeInt16LE=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},a.prototype.writeInt32LE=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,o){return e=+e,t=t>>>0,o||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},a.prototype.writeBigInt64LE=H(function(e,t=0){return it(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=H(function(e,t=0){return ot(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function st(r,e,t,o,c,f){if(t+o>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ct(r,e,t,o,c){return e=+e,t=t>>>0,c||st(r,e,t,4),s.write(r,e,t,o,23,4),t+4}a.prototype.writeFloatLE=function(e,t,o){return ct(this,e,t,!0,o)},a.prototype.writeFloatBE=function(e,t,o){return ct(this,e,t,!1,o)};function at(r,e,t,o,c){return e=+e,t=t>>>0,c||st(r,e,t,8),s.write(r,e,t,o,52,8),t+8}a.prototype.writeDoubleLE=function(e,t,o){return at(this,e,t,!0,o)},a.prototype.writeDoubleBE=function(e,t,o){return at(this,e,t,!1,o)},a.prototype.copy=function(e,t,o,c){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(o||(o=0),!c&&c!==0&&(c=this.length),t>=e.length&&(t=e.length),t||(t=0),c>0&&c<o&&(c=o),c===o||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),e.length-t<c-o&&(c=e.length-t+o);const f=c-o;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,o,c):Uint8Array.prototype.set.call(e,this.subarray(o,c),t),f},a.prototype.fill=function(e,t,o,c){if(typeof e=="string"){if(typeof t=="string"?(c=t,t=0,o=this.length):typeof o=="string"&&(c=o,o=this.length),c!==void 0&&typeof c!="string")throw new TypeError("encoding must be a string");if(typeof c=="string"&&!a.isEncoding(c))throw new TypeError("Unknown encoding: "+c);if(e.length===1){const h=e.charCodeAt(0);(c==="utf8"&&h<128||c==="latin1")&&(e=h)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;t=t>>>0,o=o===void 0?this.length:o>>>0,e||(e=0);let f;if(typeof e=="number")for(f=t;f<o;++f)this[f]=e;else{const h=a.isBuffer(e)?e:a.from(e,c),g=h.length;if(g===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(f=0;f<o-t;++f)this[f+t]=h[f%g]}return this};const Z={};function Ie(r,e,t){Z[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(c){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:c,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError),Ie("ERR_OUT_OF_RANGE",function(r,e,t){let o=`The value of "${r}" is out of range.`,c=t;return Number.isInteger(t)&&Math.abs(t)>2**32?c=ut(String(t)):typeof t=="bigint"&&(c=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(c=ut(c)),c+="n"),o+=` It must be ${e}. Received ${c}`,o},RangeError);function ut(r){let e="",t=r.length;const o=r[0]==="-"?1:0;for(;t>=o+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function wr(r,e,t){Q(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&te(e,r.length-(t+1))}function ft(r,e,t,o,c,f){if(r>t||r<e){const h=typeof e=="bigint"?"n":"";let g;throw e===0||e===BigInt(0)?g=`>= 0${h} and < 2${h} ** ${(f+1)*8}${h}`:g=`>= -(2${h} ** ${(f+1)*8-1}${h}) and < 2 ** ${(f+1)*8-1}${h}`,new Z.ERR_OUT_OF_RANGE("value",g,r)}wr(o,c,f)}function Q(r,e){if(typeof r!="number")throw new Z.ERR_INVALID_ARG_TYPE(e,"number",r)}function te(r,e,t){throw Math.floor(r)!==r?(Q(r,t),new Z.ERR_OUT_OF_RANGE("offset","an integer",r)):e<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,r)}const Er=/[^+/0-9A-Za-z-_]/g;function gr(r){if(r=r.split("=")[0],r=r.trim().replace(Er,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Be(r,e){e=e||1/0;let t;const o=r.length;let c=null;const f=[];for(let h=0;h<o;++h){if(t=r.charCodeAt(h),t>55295&&t<57344){if(!c){if(t>56319){(e-=3)>-1&&f.push(239,191,189);continue}else if(h+1===o){(e-=3)>-1&&f.push(239,191,189);continue}c=t;continue}if(t<56320){(e-=3)>-1&&f.push(239,191,189),c=t;continue}t=(c-55296<<10|t-56320)+65536}else c&&(e-=3)>-1&&f.push(239,191,189);if(c=null,t<128){if((e-=1)<0)break;f.push(t)}else if(t<2048){if((e-=2)<0)break;f.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;f.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;f.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return f}function Sr(r){const e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function xr(r,e){let t,o,c;const f=[];for(let h=0;h<r.length&&!((e-=2)<0);++h)t=r.charCodeAt(h),o=t>>8,c=t%256,f.push(c),f.push(o);return f}function ht(r){return i.toByteArray(gr(r))}function ae(r,e,t,o){let c;for(c=0;c<o&&!(c+t>=e.length||c>=r.length);++c)e[c+t]=r[c];return c}function L(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function _e(r){return r!==r}const br=function(){const r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const o=t*16;for(let c=0;c<16;++c)e[o+c]=r[t]+r[c]}return e}();function H(r){return typeof BigInt>"u"?Ar:r}function Ar(){throw new Error("BigInt not supported")}}(be)),be}var ir=nr();const or={};console.log(`📦 NeutralToken v${Te.version} loaded`),typeof window<"u"&&(window.Buffer||(window.Buffer=ir.Buffer),window.process||(window.process=or));function je(n,i={}){if(!document.getElementById("neutraltoken-css")){const d=document.createElement("link");d.id="neutraltoken-css",d.rel="stylesheet",d.href=`${M}/neutraltoken.css`,M==="./dist"&&(d.onerror=function(){this.onerror=null,this.href="https://cdn.jsdelivr.net/npm/@neutraltoken/core@latest/dist/neutraltoken.css"}),document.head.appendChild(d)}const s=typeof n=="string"?document.querySelector(n):n;if(!s){console.error("NeutralToken: renderButton target not found.");return}const u=document.createElement("button");u.className="verify-button";const l=document.createElement("img");l.src=`${M}/logo.png`,l.alt="NeutralToken logo",M==="./dist"&&(l.onerror=function(){this.onerror=null,this.src="https://cdn.jsdelivr.net/npm/@neutraltoken/core@latest/dist/logo.png"}),u.appendChild(l),u.addEventListener("click",()=>{Ae(i).then(d=>{console.log("✅ Badge verified",d),typeof i.onSuccess=="function"&&i.onSuccess(d)}).catch(d=>{console.error("❌ Badge verification failed",d),typeof i.onError=="function"&&i.onError(d)})}),s.appendChild(u)}function Ae(n={}){return new Promise(async(i,s)=>{try{n.token?console.log("🪵 Using provided token from config:",n.token):console.log("🪵 No token provided. Launching modal...");const u=n.token?n.token:await lt(n,async()=>(console.log("🪵 Inside modal callback — calling requestFromWallet"),await er(n)));console.log("🪵 Token acquired:",u);const l=await xe(u,n);console.log("🪵 Payload verified:",l),i(l),typeof n.onSuccess=="function"&&n.onSuccess(l)}catch(u){console.error("❌ requestBadge error:",u),s(u),typeof n.onError=="function"&&n.onError(u)}})}typeof window<"u"&&(window.NeutralToken={requestBadge:Ae,verifyBadge:xe,renderButton:je}),v.renderButton=je,v.requestBadge=Ae,v.verifyBadge=xe,Object.defineProperty(v,Symbol.toStringTag,{value:"Module"})});
